1 Como diseñar una arquitectura?
+ Requerimientos.
+ Restricciones (Negocio y técnicos)
+ Atributos de calidad.
+ Motivadores de negocio. (Resultados deseados del negocio y actividades necesarias para lograrlo)
+ En que se siente comodo el equipo (menor curva de aprendizaje)
+ licenciamiento. (hay algunas q se miden segun el cpu o virtual cpu)
+ estratégia de producto (si se necesitara multiples lineas de un producto, manejo de redespliegue)
+ scriptabilidad (ofrece comandos, permite la automatizacion)
+ desplegabilidad (por ejemplo microservicios, se pueden desplegar separado, resuelve problemas humanos porque menos hay menos conflictos y cada equipo se preocupa de su servicio)
+ pricing.

2. Evaluando Magento:
https://devdocs.magento.com/guides/v2.4/performance-best-practices/reference-architecture.html#storage

2.1 Varnish:
Es un acelerador de aplicaciones web, conocido como caché de proxy HTTP inversa. 
Se instala delante de cualquier servidor HTTP y se configura para almacenar en el caché del servidor una copia del recurso solicitado. 
* contenido estatico : assets (imagenes, css, assets).
* contenido dinámico: si se cachea llamados rest, si se cachea el resultado y se vuelve escribir hay problema de consistencia, predictabilidad de la cache.. no necesariamente hay tabla de reglas.. si un dato se demora segun x cantdad de tiempo.. invalido... no, hay datos q pueden cambiar tres horas o menos.
cual es el patron de lectura?
cual es el patron de cambio?
el problema con los cambios, es la predictibilidad.
cual es el ciclo de vida de la cache?
cachear 

porque no en app service?
es un paas, quitan customizacion, ellos asumen el runtime, 

**MODELOS DE CONSISTENCIA**
**TEORIa de sistemas distribuidos**
**Encontrar una curva de costos,
desplegar varnish y autoescalarlo, escalamiento horizontal simple? varnish tiene cluster, o tienen diferentes instancias?
analizar costos vs, opciones de azure....
hay assumptions q va a tocar hacer.. por ejemplo.. front door por GB y varnish por numero de nodos...
Analizar cuanto gb tendria por instancia de varnish.. habra algun punto de equilibrio entre estos 2?
estos -> Varnish / front door / CDN.


